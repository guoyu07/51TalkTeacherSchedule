/**
 * auther: Jerry
 */
(function(){var c=location.href.match(/teacher\/info\/(\w+)/)[1];var b=new Date(new Date().getFullYear()+"-"+$(".teacher .cnt").first().children("span").first().text().replace("月","-").replace("日",""));$(".teacher ul").each(function(f){var g=(b.getMonth()+1);var d=b.getDate();if(g<10){g="0"+g}if(d<10){d="0"+d}var h=b.getFullYear()+""+g+""+d;var e=(new Date().getHours()*2)+4;$(this).children("li").each(function(j,l){var i=j+13;if(f===0&&i<e){return}var k=h+"_"+i;if($(this).children("span.disable").length>0){$(this).html('<a class="disable btn_check_status" style="cursor: pointer;" data-datetime="'+k+'" href="javascript:void(0)">CLOSED</a>')}});b.setDate(b.getDate()+1)});function a(d){$.get("/reserve/course?t_id="+c+"&date_time="+$(d).data("datetime")+"&appointType=single",function(e){if(e.search("不能被预约")>-1){$(d).parent().html("<span class='disable'>未 开 课</span>")}else{if(e.search("至少提前半小时")>-1){$(d).parent().html("<span class='disable'>CLOSED</span>")}else{$(d).removeClass("btn_check_status disable").addClass("active u-btn").css({cursor:"context-menu",backgroundColor:"#ff8277",borderColor:"#ff8277"}).html("被 预 约")}}})}$(".teacher ul li").on("click",".btn_check_status",function(){a(this)});$(".teacher .cnt").css("cursor","pointer").on("click",function(){$(this).siblings("ul").find(".btn_check_status").each(function(d,e){a(this)})})})(jQuery);